{{ define "main" }}
<div class="row">
    <aside class="col-md-3" id="docside">
        <ul class="nav flex-column">
            {{ $currentPage := . }}
            {{ range .Site.Menus.docside }}
            {{ if .HasChildren }}
            <li class='nav-item {{ if $currentPage.IsMenuCurrent "docside" . }}active{{ end }}'>
                <a class="nav-link" href="{{ .URL }}">
                    <span>{{ .Name }}</span>
                </a>
            </li>
            <ul class="sub-menu">
                {{ range .Children }}
                    <!-- Second Level -->
                    {{ if .HasChildren }}
                    <li class='nav-item {{ if $currentPage.IsMenuCurrent "docside" . }}active{{ end }}'>
                        <a data-toggle="collapse" href=".sub1" aria-expanded="false" aria-controls="sub1" class="nav-link" href="{{ .URL }}">
                            <span>{{ .Name }}</span>
                            {{ if $currentPage.HasMenuCurrent "docside" . }}
                            <i class="open"></i>
                            {{ else }}
                            <i class="closed"></i>
                            {{ end }}
                        </a>
                    </li>
                        <ul class='submenu collapse sub1 {{ if $currentPage.HasMenuCurrent "docside" . }}show{{ end }}'>
                            <!-- Third Level -->
                            {{ range .Children }}
                            <li class='nav-item {{ if $currentPage.IsMenuCurrent "docside" . }}active{{ end }}'>
                                <a class="nav-link" href="{{ .URL }}">{{ .Name }}</a>
                            </li>
                            {{ end }}
                        </ul>
                    {{ else }}
                    <li class='nav-item {{ if $currentPage.IsMenuCurrent "docside" . }}active{{ end }}'>
                        <a class="nav-link" href="{{ .URL }}">{{ .Name }}</a>
                    </li>
                    {{ end }}
                {{ end }}
            </ul>
            {{ else }}
            <li class="nav-item">
                <a class="nav-link" href="{{ .URL }}">
                    <span>{{ title .Name }}</span>
                </a>
            </li>
            {{ end }}
            {{ end }}
        </ul>
    </aside>
    <div class="col-md-9">
        <!-- TODO: Find alternative pagination to .PrevInSection .NextInSection deriving order from publish date -->
        <h1>{{ if .Params.heading }}{{ title .Params.heading }}{{ else }}{{ title .Title }}{{ end }}</h1>
        {{ if .Params.Lead }}
        <p class="lead">{{ .Params.Lead }}</p>
        {{ end }}
        {{ if .Params.Toc }}
        <h4 id="toc">Contents</h4>
        {{ .TableOfContents }}
        {{ end }}
        <hr>
        {{ .Content }}
    </div>
</div>
{{ end }}