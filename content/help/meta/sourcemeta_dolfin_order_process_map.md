---
title: "Dolfin Order Map"
name: "sourcemeta_dolfin"
key: "order_process_map"
description: "XML SOAP payload for order."
user_friendly_description: "Customise the order specifc details Stock2Shop sends to Dolfin."
default: "&lt;soap:Envelope xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot; xmlns:tem=&quot;http://tempuri.org/&quot;&gt;            &lt;soap:Header xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;                &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;                    &lt;wsse:UsernameToken&gt;                        &lt;wsse:Username&gt;STOCK2SHOP&lt;/wsse:Username&gt;                        &lt;wsse:Password&gt;xxx&lt;/wsse:Password&gt;                    &lt;/wsse:UsernameToken&gt;                &lt;/wsse:Security&gt;                &lt;wsa:Action&gt;http://tempuri.org/IDolfinMessagingInterface/ActionTransaction&lt;/wsa:Action&gt;                &lt;wsa:To&gt;https://trpsksuatlab.mychain.co.za:8888/DolfinInterface.Webservices.TRP/DolfinMessagingInterface.svc&lt;/wsa:To&gt;            &lt;/soap:Header&gt;            &lt;soap:Body&gt;                &lt;tem:ActionTransaction&gt;                    &lt;tem:companyId&gt;TRP&lt;/tem:companyId&gt;                    &lt;tem:source&gt;DolfinTranSourceWS&lt;/tem:source&gt;                    &lt;tem:xmlDoc&gt;&lt;![CDATA[                        &lt;CashSale&gt;                          &lt;Hdr&gt;                            &lt;TranHdr&gt;                              &lt;StoreNumber&gt;0003&lt;/StoreNumber&gt;                              &lt;Terminal&gt;6&lt;/Terminal&gt;                              &lt;TransactionNumber&gt;{{system_order.id}}&lt;/TransactionNumber&gt;                              &lt;UserName&gt;Stock2Shop&lt;/UserName&gt;                              &lt;OnlineAuthorisationUserName /&gt;                              &lt;TranDate&gt;{{params.date}}&lt;/TranDate&gt;                              &lt;TranTime&gt;{{params.time}}&lt;/TranTime&gt;                            &lt;/TranHdr&gt;                            &lt;TransactionType&gt;CS&lt;/TransactionType&gt;                            &lt;CashierID&gt;0015&lt;/CashierID&gt;                            &lt;EmployeeNumber /&gt;                            &lt;LoyaltyCustomerNo /&gt;                            &lt;DemographicHdr/&gt;                            &lt;RefundNote /&gt;                            &lt;PostalCode /&gt;                            &lt;SchoolClub /&gt;                            &lt;MySchool /&gt;                            &lt;DiscoveryMemNum /&gt;                            &lt;DiscAuthCode /&gt;                            &lt;ReasonName /&gt;                            &lt;ReasonTel /&gt;                            &lt;ReasonInfoID /&gt;                            &lt;ReasonInfoVoucherNum /&gt;                            &lt;ReasonInfoAdd1 /&gt;                            &lt;ReasonInfoAdd2 /&gt;                            &lt;ReasonInfoAdd3 /&gt;                            &lt;ReasonInfoAdd4 /&gt;                            &lt;ReasonInfoAdd5 /&gt;                            &lt;OverrideUser /&gt;                            &lt;DiscoveryHealthNumber /&gt;                            &lt;DiscoveryInputType&gt;0&lt;/DiscoveryInputType&gt;                            &lt;CSCustomerCellPhone /&gt;                            &lt;CSCustomerEmail /&gt;                            &lt;CSCustomerName /&gt;                            &lt;CSCustomerSurname /&gt;                            &lt;CSCustomerAccountNumber /&gt;                            &lt;GiftReceiptNumber/&gt;                          &lt;/Hdr&gt;                          &lt;Lines&gt;                            {{# system_order.line_items}}                            &lt;SaleLineData&gt;                              &lt;LineNumber&gt;{{line_number}}&lt;/LineNumber&gt;                              &lt;SKUCode&gt;{{sku}}&lt;/SKUCode&gt;                              &lt;SaleQty&gt;{{qty}}&lt;/SaleQty&gt;                              &lt;SaleLineDirection&gt;Sale&lt;/SaleLineDirection&gt;                              &lt;TransactionSubType&gt;NLI&lt;/TransactionSubType&gt;                              &lt;NetAmtStoreInc&gt;{{total_inc}}&lt;/NetAmtStoreInc&gt;                              &lt;TaxAmtStore&gt;{{total_tax}}&lt;/TaxAmtStore&gt;                              &lt;DiscAmtStoreInc&gt;0.00&lt;/DiscAmtStoreInc&gt;                              &lt;DiscountType&gt;NA&lt;/DiscountType&gt;                              &lt;DiscountReasonCode /&gt;                              &lt;ConditionalPromotionID&gt;0&lt;/ConditionalPromotionID&gt;                              &lt;UnitPriceStoreInc&gt;{{price_inc}}&lt;/UnitPriceStoreInc&gt;                              &lt;PriceOverrideReasonCode /&gt;                              &lt;OverridePrice&gt;{{price_inc}}&lt;/OverridePrice&gt;                              &lt;AssistantID&gt;0015&lt;/AssistantID&gt;                              &lt;HamperSKUCode /&gt;                              &lt;Reference1 /&gt;                              &lt;Reference2 /&gt;                              &lt;Reference3 /&gt;                              &lt;Reference4 /&gt;                              &lt;Reference5 /&gt;                              &lt;ExchangeInd&gt;0&lt;/ExchangeInd&gt;                              &lt;CSType&gt;NA&lt;/CSType&gt;                              &lt;CSStoreNumber /&gt;                              &lt;CSReferenceNumber /&gt;                              &lt;TailorCode /&gt;                              &lt;AdjustmentValue&gt;0&lt;/AdjustmentValue&gt;                              &lt;AdjustmentType&gt;NA&lt;/AdjustmentType&gt;                              &lt;ReferenceLineNumber&gt;0&lt;/ReferenceLineNumber&gt;                              &lt;ReferenceLineType&gt;NA&lt;/ReferenceLineType&gt;                              &lt;DiscountReference /&gt;                              &lt;VoidReferenceLine&gt;0&lt;/VoidReferenceLine&gt;                              &lt;JavaReferenceLineNumber&gt;0&lt;/JavaReferenceLineNumber&gt;                              &lt;AltReferenceLineNumber&gt;0&lt;/AltReferenceLineNumber&gt;                              &lt;ConcessionReference /&gt;                              &lt;ConditionalPromoBucket /&gt;                              &lt;TransactionDiscountAmtStoreInc&gt;0&lt;/TransactionDiscountAmtStoreInc&gt;                              &lt;LineDiscountAmtStoreInc&gt;0&lt;/LineDiscountAmtStoreInc&gt;                              &lt;GiftVoucher&gt;                                &lt;VoucherNumber /&gt;                                &lt;STANNumber /&gt;                                &lt;MerchantNumber /&gt;                                &lt;IntCurrencyCode /&gt;                              &lt;/GiftVoucher&gt;                              &lt;QA&gt;                                &lt;QAData&gt;                                  &lt;QuestionID&gt;0&lt;/QuestionID&gt;                                  &lt;Answer /&gt;                                &lt;/QAData&gt;                              &lt;/QA&gt;                              &lt;SerialDetails&gt;                                &lt;SerialDetailData&gt;                                  &lt;SerialNumber /&gt;                                &lt;/SerialDetailData&gt;                              &lt;/SerialDetails&gt;                            &lt;/SaleLineData&gt;                            {{/ system_order.line_items}}                          &lt;/Lines&gt;                          &lt;Discounts /&gt;                          &lt;Tenders&gt;                            &lt;TenderData&gt;                              &lt;TenderTypeNo&gt;Cash&lt;/TenderTypeNo&gt;                              &lt;TenderSubType&gt;CT&lt;/TenderSubType&gt;                              &lt;Reference /&gt;                              &lt;TenderDirection&gt;Tender&lt;/TenderDirection&gt;                              &lt;TenderCurrency&gt;RANDS&lt;/TenderCurrency&gt;                              &lt;TenderAmountCurr&gt;{{system_order.total_inc}}&lt;/TenderAmountCurr&gt;                              &lt;TenderAmountStore&gt;{{system_order.total_inc}}&lt;/TenderAmountStore&gt;                              &lt;ManualAuthorisationNo /&gt;                              &lt;SpeedPointReference /&gt;                              &lt;CartridgeNumber /&gt;                              &lt;ContactData&gt;                                &lt;Title /&gt;                                &lt;FirstName /&gt;                                &lt;Surname /&gt;                                &lt;TelW /&gt;                                &lt;TelH /&gt;                                &lt;Mobile /&gt;                                &lt;IDNo /&gt;                                &lt;Addr1 /&gt;                                &lt;Addr2 /&gt;                                &lt;Addr3 /&gt;                                &lt;PCode /&gt;                              &lt;/ContactData&gt;                              &lt;Reference2 /&gt;                              &lt;STANNumber /&gt;                              &lt;MerchantNumber /&gt;                              &lt;IntCurrencyCode /&gt;                              &lt;EFTReferenceNumber /&gt;                              &lt;CardReference /&gt;                              &lt;CardType&gt;0&lt;/CardType&gt;                            &lt;/TenderData&gt;                          &lt;/Tenders&gt;                          &lt;Totals&gt;                            &lt;TranTenderTotal&gt;                              &lt;LinesCount&gt;{{system_order.line_count}}&lt;/LinesCount&gt;                              &lt;LinesValueInc&gt;{{system_order.total_inc}}&lt;/LinesValueInc&gt;                            &lt;/TranTenderTotal&gt;                            &lt;TranDetailTotal&gt;                              &lt;LinesCount&gt;{{system_order.line_count}}&lt;/LinesCount&gt;                              &lt;LinesQty&gt;{{system_order.qty_count}}&lt;/LinesQty&gt;                              &lt;LinesValueInc&gt;{{system_order.total_inc}}&lt;/LinesValueInc&gt;                            &lt;/TranDetailTotal&gt;                          &lt;/Totals&gt;                        &lt;/CashSale&gt;]]&gt;                 &lt;/tem:xmlDoc&gt;                &lt;/tem:ActionTransaction&gt;            &lt;/soap:Body&gt;        &lt;/soap:Envelope&gt;"
values: []
tags: [sourcemeta,dolfin]
type: "meta"
process: "orders"
headless: true
---