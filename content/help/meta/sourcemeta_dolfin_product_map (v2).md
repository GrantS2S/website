---
title: ""
name: "sourcemeta_dolfin"
key: "product_map (v2)"
description: "Transforms v2 Dolfin data into s2s product. See example for available properties. Carefully note the qty_availability array call syntax. To populate the financial companies associated with the product as meta, a method has been put in place to loop through all financial companies and return a value of true for those that contain SOH. This may be called via the {{# associated_fin}} check"
user_friendly_description: ""
default: "{     &quot;source&quot;: {         &quot;source_product_code&quot;: &quot;{{Prod}}&quot;,         &quot;product_active&quot;: &quot;{{# SellOnWeb}}true{{/ SellOnWeb}}{{^ SellOnWeb}}false{{/ SellOnWeb}}&quot;,         &quot;sync_token&quot;: &quot;{{AmendedOn}}&quot;     },     &quot;product&quot;: {         &quot;title&quot;: &quot;{{# WebName}}{{#json_escape}}{{WebName}}{{/json_escape}}{{/ WebName}}{{^ WebName}}Product Title{{/ WebName}}&quot;,         &quot;vendor&quot;: &quot;{{#json_escape}}{{Brand}}{{/json_escape}}&quot;,         &quot;collection&quot;: &quot;{{# MarkedDown}}SALE{{/ MarkedDown}}{{^ MarkedDown}}{{Category}}{{/ MarkedDown}}&quot;,         &quot;product_type&quot;: &quot;{{SubD}}&quot;                  {{# LifeStyleDescr}},             &quot;tags&quot;: &quot;{{#json_escape}}{{LifeStyleDescr}}{{/json_escape}}&quot;         {{/ LifeStyleDescr}},                  &quot;body_html&quot;: &quot;{{#json_escape}}{{WebFullDescr}}{{/json_escape}}&quot;         {{# Size}},         &quot;options&quot;: [{             &quot;name&quot;: &quot;Size&quot;,             &quot;position&quot;: &quot;1&quot;         }]         {{/ Size}},         &quot;variants&quot;: {             &quot;source_variant_code&quot;: &quot;{{SKU}}&quot;,             &quot;qty&quot;: &quot;{{qty.3.9007}}&quot;,             &quot;price&quot;: &quot;{{SP}}&quot;,             &quot;price_tiers&quot;:[             {                 &quot;tier&quot;: &quot;PromoPrice&quot;,                 &quot;price&quot;: &quot;{{PromoPrice}}&quot;             },             {                 &quot;tier&quot;: &quot;SP&quot;,                 &quot;price&quot;: &quot;{{SP}}&quot;             },             {                 &quot;tier&quot;: &quot;SP2&quot;,                 &quot;price&quot;: &quot;{{SP2}}&quot;             },             {                 &quot;tier&quot;: &quot;SP3&quot;,                 &quot;price&quot;: &quot;{{SP3}}&quot;             },             {                 &quot;tier&quot;: &quot;SP4&quot;,                 &quot;price&quot;: &quot;{{SP4}}&quot;             }                     ],             &quot;sku&quot;: &quot;{{SKU}}&quot;             {{# Size}},                 &quot;option1&quot;: &quot;{{Size}}&quot;             {{/ Size}},             &quot;inventory_management&quot;: true,             &quot;qty_availability&quot;: [                 {                     &quot;description&quot;: &quot;9007&quot;,                     &quot;qty&quot;: &quot;{{qty.3.9007}}&quot;                 },                 {                     &quot;description&quot;: &quot;0176&quot;,                     &quot;qty&quot;: &quot;{{qty.1.0176}}&quot;                 }             ]         },         &quot;meta&quot;: [{                 &quot;key&quot;: &quot;PromoPrice&quot;,                 &quot;value&quot;: &quot;{{PromoPrice}}&quot;             },             {                 &quot;key&quot;: &quot;PromoFromDate&quot;,                 &quot;value&quot;: &quot;{{PromoFromDate}}&quot;             },             {                 &quot;key&quot;: &quot;PromoEndDate&quot;,                 &quot;value&quot;: &quot;{{PromoEndDate}}&quot;             }             {{# associated_fin}}             ,{                 &quot;key&quot;: &quot;FinCompany_{{FinCompany}}&quot;,                 &quot;value&quot;: &quot;true&quot;             }            {{/ associated_fin}}         ]     } }"
values: []
tags: [sourcemeta,dolfin]
type: "meta"
process: ""
headless: true
---