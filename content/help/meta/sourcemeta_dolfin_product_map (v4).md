---
title: "Sync products from Dolfin"
name: "sourcemeta_dolfin"
key: "product_map (v4)"
description: "Transforms v4 Dolfin data into s2s product. See example for available properties. Carefully note the qty_availability and price list array call syntax. To populate the financial companies associated with the product as meta, a method has been put in place to loop through all financial companies and return a value of true for those that contain SOH. This may be called via the {{# associated_fin}} check"
user_friendly_description: "Using the product map you can build up products from the information you have in Dolfin and sync this to Stock2Shop."
default: "{     &quot;source&quot;: {         &quot;source_product_code&quot;: &quot;{{Prod}}&quot;,         &quot;product_active&quot;: &quot;{{# SellOnWeb}}true{{/ SellOnWeb}}{{^ SellOnWeb}}false{{/ SellOnWeb}}&quot;,         &quot;sync_token&quot;: &quot;{{AmendedOn}}&quot;     },     &quot;product&quot;: {         &quot;title&quot;: &quot;{{# WebName}}{{#json_escape}}{{WebName}}{{/json_escape}}{{/ WebName}}{{^ WebName}}Product Title{{/ WebName}}&quot;,         &quot;body_html&quot;: &quot;{{#json_escape}}{{{WebFullDescr}}}{{/json_escape}}&quot;,         &quot;collection&quot;: &quot;{{DepD}}&quot;,         &quot;product_type&quot;: &quot;{{SubD}}&quot;,         &quot;options&quot;: [             {{# Size}}                 {                     &quot;name&quot;: &quot;Size&quot;,                     &quot;position&quot;: &quot;1&quot;                 }             {{/ Size}}             {{# ColD}},                 {                     &quot;name&quot;: &quot;Colour&quot;,                     &quot;position&quot;: &quot;2&quot;                 }             {{/ ColD}}         ],         &quot;variants&quot;: {             &quot;source_variant_code&quot;: &quot;{{SKU}}&quot;,             &quot;qty&quot;: &quot;{{qty.1.0058}}&quot;,             &quot;price&quot;: &quot;{{price.1.0058.SP}}&quot;,             &quot;price_tiers&quot;:[             {                 &quot;tier&quot;: &quot;PromoPrice&quot;,                 &quot;price&quot;: &quot;{{price.1.0058.PromoPrice}}&quot;             },             {                 &quot;tier&quot;: &quot;SP&quot;,                 &quot;price&quot;: &quot;{{price.1.0058.SP}}&quot;             },             {                 &quot;tier&quot;: &quot;SP2&quot;,                 &quot;price&quot;: &quot;{{price.1.0058.SP2}}&quot;             },             {                 &quot;tier&quot;: &quot;SP3&quot;,                 &quot;price&quot;: &quot;{{price.1.0058.SP3}}&quot;             },             {                 &quot;tier&quot;: &quot;SP4&quot;,                 &quot;price&quot;: &quot;{{price.1.0058.SP4}}&quot;             }                     ],             &quot;sku&quot;: &quot;{{SKU}}&quot;             {{# Size}},                 &quot;option1&quot;: &quot;{{Size}}&quot;             {{/ Size}}             {{# ColD}},                 &quot;option2&quot;: &quot;{{ColD}}&quot;             {{/ ColD}},             &quot;inventory_management&quot;: true,             &quot;qty_availability&quot;: [{                 &quot;description&quot;: &quot;0058&quot;,                 &quot;qty&quot;: &quot;{{qty.1.0058}}&quot;             }]         },         &quot;meta&quot;: [{                 &quot;key&quot;: &quot;PromoPrice&quot;,                 &quot;value&quot;: &quot;{{PromoPrice}}&quot;             },             {                 &quot;key&quot;: &quot;PromoFromDate&quot;,                 &quot;value&quot;: &quot;{{PromoFromDate}}&quot;             },             {                 &quot;key&quot;: &quot;PromoEndDate&quot;,                 &quot;value&quot;: &quot;{{PromoEndDate}}&quot;             }             {{# associated_fin}},                              {                                     &quot;key&quot;: &quot;FinCompany_{{FinCompany}}&quot;,                                     &quot;value&quot;: &quot;true&quot;                             }                        {{/ associated_fin}}                          ]     } }"
values: []
tags: [sourcemeta,dolfin]
type: "meta"
process: "products"
headless: true
---